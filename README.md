### 项目4：        **基于ARM53停车场管理系统**  

#### 项目描述

本次项目是基于Qt环境进行跨平台开发设计一个基于ARM53停车场管理系统(GEC6818)，通过交叉编译Qt程序，并在GEC6818开发板上运行，主要通过Qt控件、样式表、多进程多线程、Linux音视频编程、C/C++混合编程、文字识别API、科大讯飞语音模块，实现了对停车场车辆出入场信息的简易管理。

#### 项目需求

1、数据库存储车辆信息，包括车牌，卡号，卡类，进场时间和照片，可对数据库数据进行修改；

2、实现实时监控，并有视频回放功能；

3、可通过RFID识别卡号，通过百度文字识别API识别车牌号；

4、可通过语音进行车辆入场和出场的信息播报；

5、可根据卡类和停车时间对该卡剩余停车时间进行更新。

#### 环境搭建

开发平台：Linux

运行平台：ARM

开发工具：交叉编译链、QCreater

库的移植：文字识别、语音等

编程实现：使用Linux下的QtCreater进行ui设计、编写代码，利用 Qt／Embedded 中的qmake生成Makefile管理工程目录，利用arm-linux-gcc交叉编译，再通过Linux平台的SSH服务将编译生成的程序文件传输到开发板中，最后执行

#### 涉及知识

C/C++混合编程、多进程多线程、API、Linux音视频编程、文字识别、语音播报

#### 具体描述

界面功能主要分为三部分：实时监控、车辆数据库管理、视频回放。

使用摄像头实时抓取一帧数据，显示出来，并保存图片文件到本地中； 

视频回放，使用实时监控时保存的照片通过ffmpeg命令进行合成视频，可循环合成时长为1分钟的视频，可在窗口进行选择播放，可实现进度条的滑动；

 车辆入场时，刷卡识别卡号，拍照3s暂停视频流，识别车牌号，随后恢复视频流插入到数据库表格中，同时发送入场数据给语音模块播报入场语音；车辆出场时，刷卡识别卡号，检测到数据库中存在此卡号，进行出场，出场时在实时监控界面显示3s入场时的照片，同时显示出场消费信息并发送出场数据给语音模块进行语音播放，随后删除数据库中的车辆记录；根据卡号对应卡类，剩余停车时间根据卡类和停车时间进行计算；

 可对数据库的数据进行修改。

#### 项目总结

本次项目让我对C/C++混合编程更加熟练一点，对于Linux音视频编程也有了一点点体会，在跨平台开发时，库的移植是比较麻烦的，有时搞半天还是错误不断，项目过程中，对RFID模块和摄像头的使用有了一定的认识和理解，使用ffmpeg命令合成视频时，合成的速度是比较慢的，总的来说，通过音视频编程，算是完成一个比较简易的停车场管理系统。  